# OSI七层模型与TCP/IP四层模型  
这是我的第一篇安全笔记，主要记录两个网络模型的分层与功能。  
## 为什么要学这两个模型？  
网络通信的本质是“分层协作”，而**网络安全的漏洞和攻击几乎都和具体层级相关**（比如XSS在应用层，ARP欺骗在数据链路层）。我认为理解分层模型是我将来分析“攻击发生在哪里”“防御要针对哪一层”的基础。  


## 一、OSI七层模型（理论标准）  
OSI（开放式系统互联）模型是国际标准化组织（ISO）定义的**理论分层模型**，将网络通信分为7层，从下到上依次是：  

| 层级（从下到上） | 核心功能                          | 安全关联                                                                 |  
|------------------|-----------------------------------|----------------------------------------------------------------------------------|  
| 7. 应用层        | 直接为用户应用程序提供服务（如HTTP、FTP、DNS） | 最易受攻击的层：SQL注入、XSS、命令注入等（攻击目标是应用程序逻辑）、钓鱼攻击 |  
| 6. 表示层        | 数据格式转换（如加密、压缩、编码） | SSL/TLS加密在此层实现；若加密算法漏洞（如Heartbleed），会直接导致数据泄露。 |  
| 5. 会话层        | 建立、管理、终止会话（如会话标识） | 会话劫持（窃取会话ID）、会话固定攻击；弱会话管理会导致权限被冒用。         |  
| 4. 传输层        | 端到端数据传输（TCP/UDP协议）     | TCP三次握手漏洞（SYN Flood攻击）、UDP无连接特性导致的放大攻击（如DNS放大）。         |  
| 3. 网络层        | 路由选择、IP地址管理              | IP欺骗（伪造源IP）、ICMP洪水攻击（Ping of Death）、路由劫持（篡改路由表）。         |  
| 2. 数据链路层    | MAC地址识别、帧传输（把比特流组装起来）、局域网通信               | ARP欺骗（篡改MAC-IP映射）、MAC泛洪（交换机瘫痪）、VLAN漏洞（越权访问其他网段）。     |  
| 1. 物理层        | 比特流传输（网线、无线信号等），让两台机器能够连接    | 物理接触导致的嗅探（如插入监听设备）、信号干扰（导致通信中断）。                     |  


## 二、TCP/IP四层模型（实际应用）  
TCP/IP模型是互联网实际使用的**工业标准**，将OSI的7层简化为4层（或5层，这里以4层为例），从下到上：  

| 层级（从下到上） | 核心功能                          | 对应OSI的层级       | 安全关联                                                                 |  
|------------------|-----------------------------------|--------------------|----------------------------------------------------------------------------------|  
| 4. 应用层        | 集成OSI的应用层+表示层+会话层功能 | 7+6+5层            | 同OSI应用层（如HTTP漏洞、DNS劫持）；TLS加密在此层实现（实际是OSI表示层功能）。       |  
| 3. 传输层        | 同OSI传输层（TCP/UDP）            | 4层                | 同OSI传输层（SYN Flood、UDP放大攻击）。                                           |  
| 2. 网络层        | 同OSI网络层（IP协议、路由）       | 3层                | 同OSI网络层（IP欺骗、ICMP攻击）。                                                 |  
| 1. 网络接口层/数据链路层    | 集成OSI的数据链路层+物理层功能    | 2+1层              | 同OSI数据链路层+物理层（ARP欺骗、物理嗅探）。                                     |  


## 三、为什么现实世界不用OSI七层模型，而用TCP/IP四层模型？ 
OSI（Open Systems Interconnection）模型是**国际标准组织（ISO）**在1984年提出的。
当时计算机厂商很多，每家都有自己的通信方式。
ISO 想让大家统一，于是提出了“七层”的理想结构。

👉它只是个「教学用的理论模型」，
并没有实际实现的软件或协议。

TCP/IP 是美国国防部（DARPA）在上世纪70年代开发的，
是 互联网真正运行的协议栈。
它早于OSI就已经在实际运行。

👉它让计算机真的能互联互通。

当OSI模型还在开会、写标准时，
TCP/IP 已经被大学、科研机构、大公司用在网络通信上了。
等OSI模型正式发布时——互联网已经全面采用TCP/IP了。

于是实际世界选了“能用的 TCP/IP”，
教科书保留了“结构清晰的 OSI”。

## 四、思考后得出的结论  
1. 攻击不分层级，从物理层到应用层都可能存在漏洞，需全面学习
2. 防御要针对性，比如防ARP欺骗需在数据链路层绑定MAC-IP；防SQL注入需在应用层过滤用户输入
3. 模型只是工具，不用死记硬背层级名称，我只需要理解每层负责什么、漏洞可能出现在哪里（与模型的对应关系）
